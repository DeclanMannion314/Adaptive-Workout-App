<!DOCTYPE html>
<html>
<head>
  <title>Profile</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="center-page">

<div class="profile-box">
  <h2>Your Profile</h2>

  <p><strong>Username:</strong> <span id="username"></span></p>
  <p><strong>Email:</strong> <span id="email"></span></p>

  <button id="logout-btn" class="btn delete-btn">Logout</button>
</div>

<script>
async function loadProfile() {
  const res = await fetch("/api/profile");
  const data = await res.json();

  if (!data.success) {
    window.location.href = "login.html";
    return;
  }

  document.getElementById("username").textContent = data.user.username;
  document.getElementById("email").textContent = data.user.email;
}

document.getElementById("logout-btn").onclick = async () => {
  await fetch("/api/logout", { method: "POST" });
  window.location.href = "login.html";
};

loadProfile();
</script>

</body>
</html>
